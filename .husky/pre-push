echo "Running pre-push checks (mirroring CI pipeline)..."

# Backend checks
echo "=== Backend ==="
cd gcredit-project/backend
npx eslint src/ --max-warnings=0
npx tsc --noEmit
npm test -- --forceExit
cd ../..

# Frontend checks
echo "=== Frontend ==="
cd gcredit-project/frontend
npx eslint src/ --max-warnings=0
npx tsc --noEmit
npx vitest run
cd ../..

echo "âœ“ All pre-push checks passed!"
